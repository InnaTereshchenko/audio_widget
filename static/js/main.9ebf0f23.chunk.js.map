{"version":3,"sources":["SongWidget.js","SongList.js","App.js","index.js"],"names":["SongWidget","_ref","currentSong","player","document","getElementById","react_default","a","createElement","className","src","album","cover","alt","duration","preview","id","type","onClick","play","artist","picture","title","name","min","max","step","SongList","songs","chooseCurrentSong","map","song","i","seconds","Math","floor","sec","concat","getTime","getSongs","Object","asyncToGenerator","regenerator_default","mark","_callee","search","searchValue","response","wrap","_context","prev","next","split","join","fetch","method","headers","x-rapidapi-host","x-rapidapi-key","sent","abrupt","json","stop","_x","apply","this","arguments","App","_useState","useState","_useState2","slicedToArray","setSongs","_useState3","_useState4","setSearchValue","_useState5","_useState6","setCurrentSong","useEffect","then","data","songIndex","find","value","onChange","e","preventDefault","target","src_SongWidget","src_SongList","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.9ebf0f23.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SongWidget = ({ currentSong }) => {\n  const player = document.getElementById('music');\n\n  return (\n    <section className=\"widget\">\n      <div className=\"widget__visual\">\n        <img src={currentSong.album.cover} className=\"widget__picture\" alt=\"\" />\n        <div className=\"widget__visualizer\">\n          <p>{currentSong.duration}</p>\n        </div>\n      </div>\n      <div className=\"widget__controls controls\">\n        {/* eslint-disable-next-line jsx-a11y/media-has-caption */}\n        <audio src={currentSong.preview} id=\"music\" />\n        <button\n          type=\"button\"\n          className=\"controls__prev\"\n          onClick={() => player.play()}\n        />\n        <button\n          type=\"button\"\n          className=\"controls__play\"\n          onClick={() => player.play()}\n        />\n        <button\n          type=\"button\"\n          className=\"controls__next\"\n          onClick={() => player.play()}\n        />\n        <div className=\"controls__img\">\n          <img\n            src={currentSong.artist.picture}\n            className=\"controls__picture\"\n            alt=\"\"\n          />\n          <div className=\"controls__song\">\n            <p className=\"controls__title\">{currentSong.title}</p>\n            <p className=\"controls__artist\">{currentSong.artist.name}</p>\n          </div>\n        </div>\n        <div className=\"controls__volume\">\n          <img\n            src=\"./images/volume.png\"\n            className=\"controls__volume-icon\"\n            alt=\"\"\n          />\n          <input\n            type=\"range\"\n            title=\"volume\"\n            min=\"0\"\n            max=\"10\"\n            step=\"1\"\n            className=\"controls__range\"\n          />\n        </div>\n      </div>\n\n    </section>\n  );\n};\n\nSongWidget.propTypes = {\n  currentSong: PropTypes.shape().isRequired,\n};\n\nexport default SongWidget;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SongList = ({ songs, chooseCurrentSong }) => {\n  const getTime = (seconds) => {\n    const min = Math.floor(seconds / 60);\n    const sec = seconds % 60;\n\n    return `${min}:${(sec > 9) ? sec : `0${sec}`}`;\n  };\n\n  return (\n    <section className=\"list\">\n      <ul className=\"list__list\">\n        {songs\n          ? (\n            songs.map((song, i) => (\n              // eslint-disable-next-line max-len\n              // eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-noninteractive-element-interactions\n              <li onClick={() => chooseCurrentSong(i)}>\n                <div className=\"list__song\">\n                  <span>{i + 1}</span>\n                  <span>{song.title}</span>\n                  <span>{getTime(song.duration)}</span>\n                </div>\n              </li>\n            )))\n          : (\n            <p>No songs. Search something</p>\n          ) }\n      </ul>\n    </section>\n  );\n};\n\nSongList.propTypes = {\n  songs: PropTypes.arrayOf(PropTypes.object).isRequired,\n  chooseCurrentSong: PropTypes.func.isRequired,\n};\n\nexport default SongList;\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport SongWidget from './SongWidget';\nimport SongList from './SongList';\n\nconst getSongs = async(search) => {\n  const searchValue = search.split(' ').join('-');\n  // eslint-disable-next-line max-len\n  const response = await fetch(`https://deezerdevs-deezer.p.rapidapi.com/search?q=${searchValue || `eminem`}`, {\n    method: 'GET',\n    headers: {\n      'x-rapidapi-host': 'deezerdevs-deezer.p.rapidapi.com',\n      'x-rapidapi-key': '5762d31ec1msh75e811964ce2558p1eb89fjsn15f47304a68a',\n    },\n  });\n\n  return response.json();\n};\n\n// const debounce = (f, delay) => {\n//   let timerId = 0;\n//\n//   return (...args) => {\n//     clearTimeout(timerId);\n//     timerId = setTimeout(f, delay, ...args);\n//   };\n// };\n\nfunction App() {\n  const [songs, setSongs] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [currentSong, setCurrentSong] = useState(\n    {\n      artist: {},\n      album: {},\n    }\n  );\n\n  useEffect(() => {\n    getSongs(searchValue).then(data => setSongs(data.data));\n  });\n\n  const handleSearchValue = (e) => {\n    e.preventDefault();\n    setSearchValue(e.target.value);\n  };\n\n  const chooseCurrentSong = (songIndex) => {\n    setCurrentSong(songs.find((song, i) => i === songIndex));\n  };\n\n  return (\n    <div>\n      <header className=\"header\">\n        <h1 className=\"header__title\">VISAGE</h1>\n        <form className=\"header__form form\">\n          <lable>\n            Search\n            <input\n              type=\"text\"\n              className=\"form__input\"\n              value={searchValue}\n              onChange={handleSearchValue}\n            />\n          </lable>\n          <img\n            src=\"./images/search_icon.png\"\n            alt=\"search\"\n            className=\"form__search-icon\"\n          />\n        </form>\n      </header>\n      <main className=\"main\">\n        <SongWidget\n          currentSong={currentSong}\n          chooseCurrentSong={chooseCurrentSong}\n        />\n        <SongList songs={songs} chooseCurrentSong={chooseCurrentSong} />\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}